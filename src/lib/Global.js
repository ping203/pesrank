AppKeys = {
    zoneName: 'z',
    roomName: 'r',
    userName: 'u',
    name: 'n',
//    password: 'p',
    player: 'p',
    betting: 'b',
    time: 't',
    gender: 's',
    group: 'g',
    avatar: 'a',
    playingPlayer: 'pP',
    waitPlayer: 'wP',
    zoneId: "1",
    roomId: "2",
    childId: '3',
    userCount: '4',
    uuid: '5',
    money: '6',
    children: '7',
    displayName: '8',
    position: '9',
    hasPassword: '10',
    isMaster: '11',
    roomMaster: '12',
    maxUser: '13',
    old: "14",
    new : '15',
    gameState: '16',
    groups: '17',
    listPlayers: '18',
    cardIndex: '19',
    handCards: '20',
    isEven: '21',
    isOdd: '22',
    isThreeBlack: '23',
    isThreeWhite: '24',
    isFourBlack: '25',
    isFourWhite: '26',
    type: '27',
    action: '28',
    noteType: '29',
    backToGrandparent: '30',
    fullName: '31',
    email: '32',
    birthday: '33',
    cmnd: '34',
    phone: "35",
    address: '36',
    plusPlayer: '37',
    subPlayer: '38',
    plusMoney: '39',
    subMoney: '40',
    winType: '41',
    order: '42',
    winner: '43',
    remainCards: '44',
    cards: '45',
    melds: '46',
    meldItem: '47',
    stolenCard: '48',
    discard: '49',
    prevUUID: '50',
    prevUserName: '51',
    layingCards: '52',
    score: '53',
    transFrom: '54',
    transTo: '55',
    loser: '56',
    addMelds: '57',
    hasBanker: '58',
    banker: '59',
    total: '60',
    userTotal: '61',
    result: '62',
    transfer: '63',
    cashoutList: '64',
    payDate: '65',
    cardSeri: '66',
    cardNumber: '67',
    cashoutDate: '68',
    status: '69',
    itemId: '70',
    itemName: '71',
    news: '72',
    title: '73',
    date: '74',
    content: '75',
    token: '76',
    imei: '77',
    device: '78',
    cpid: '79',
    giftcode: '80',
    value: '81',
    gameType: '82',
    minMoney: '83',
    isVirtual: '84',
    active: '85',
    buddyname: '86',
    isBuddy: '87',
    rangeBetting: "88",
    currentPlayer: "cP",
    command: "cmd",
    remainingTime: "rmT",
    numberCardsRemain: "nCs",
    //phom field
    playerState: "pS",
    players: "ps",
    isLaying: "iL",
    version : "89",
    bundleId : "90",
    oS : "91",
    maxMoney : "92",
    playersInvite : "93",
    count : "98",
    vip : "95", requestKickUser : "96",
    isJoin : "97",
    hasSam : "98",
    packageName : "99",
    campaign : "100",
    sourceId : "101",
    cost : "102",
    isFull : "103",
    hashKey : "104",
    isBanker : "105",
    listAssets : "106",
    messageId : "200",
    messageContent : "201",
    messageSender : "202",
    messageDate : "203",
    messageStatus : "205",
    messageCount : "206",
    mobile : "207",
    cardTelco : "250",
    cardValue : "251",
    exchang : "252",
    batchLog : "300",
    logType : "302",
    logKey : "303",
    logContent : "304",
    logItem : "305",
    game : "306",
    exchangMoney : "307",
    logComment : "308",
    errorMessage : "em",
    admin : "ad",
    winningType : "wnt",
    timeForShapeCards : "tS",
    rankOfHand : "rH",
    moneyExchange : "mX",
    moneyContribute : "oC",
    moneyExContribute : "xC",
    moneyBetting : "mC",
    moneyKnockOut : "ko",
    dealer : "d"
	
	//cua ma user da dat (cao hoac thap)
//	public static final String CHAN_LE_BETTING_TYPES   = "500";
//	public static final String CHAN_LE_ENTRY = "501";
//	public static final String CHAN_LE_BETTING_TYPE = "502";
//	public static final String CHAN_LE_STATE  = "503";
//	public static final String CHAN_LE_STATE_TIME = "504";
//	public static final String CHAN_LE_NUMBER_OF_CHANS = "505";
//	public static final String CHAN_LE_CHAN_TOTAL_MONEY = "506";
//	public static final String CHAN_LE_LE_TOTAL_MONEY = "507";
//	public static final String CHAN_LE_CHAN_USER_COUNT = "508";
//	public static final String CHAN_LE_LE_USER_COUNT   = "509";
//	public static final String CHAN_LE_CHAN_USER_MONEY = "510";
//    public static final String CHAN_LE_LE_USER_MONEY   = "511";
//    public static final String CHAN_LE_SESSION_ID   = "512";
//    public static final String CHAN_LE_CHAN_RATIO   = "513";
//    public static final String CHAN_LE_LE_RATIO     = "514";
//    public static final String CHAN_LE_BETTING_TYPE_MONEY   = "515";
//	
//	public static final String CAO_THAP_ENTRY = "505";
//    public static final String CAO_THAP_BETTING_TYPE = "506";
//    public static final String CAO_THAP_FIRST_CARD  = "507";
//    public static final String CAO_THAP_SECOND_CARD = "508";
//    public static final String CAO_THAP_BETTING_RESULT = "509";
//    public static final String CAO_THAP_WINNING_TYPE = "510";
//    public static final String CAO_THAP_PIGGYBANKS_INFO = "511";
//    public static final String CAO_THAP_PIGGYBANK_MONEY = "512";
//    public static final String CAO_THAP_BANK_MONEY      = "513";
//    public static final String CAO_THAP_CAO_WINNING_MONEY   = "514";
//    public static final String CAO_THAP_THAP_WINNING_MONEY   = "515";
//    public static final String CAO_THAP_USER_EXCHANGED_MONEY   = "516";
//    public static final String CAO_THAP_CAO_EXPECTED_MONEY = "517";
//    public static final String CAO_THAP_THAP_EXPECTED_MONEY = "518";
//    public static final String CAO_THAP_BETTING_TYPE_ID = "519";
//    public static final String CAO_THAP_BETTING_TYPE_MONEY = "520";
//    public static final String CAO_THAP_TURN_REMAIN_TIME = "521";
//    public static final String CAO_THAP_HISTORY_TURNS = "522";
//    public static final String CAO_THAP_HISTORY_HAS_NOT_JOINED = "523";
//    public static final String CAO_THAP_HISTORY = "524";
//    public static final String CAO_THAP_KING_COUNT = "525";
//    
//    public static final String POKER_MINI_BETTING_TYPE = "511";
//    public static final String POKER_MINI_BETTING_PACK = "512";
//    public static final String POKER_MINI_BETTING_CARDS = "513";
//    public static final String POKER_MINI_PIGGYBANK_MONEY = "514";
//    public static final String POKER_MINI_PIGGYBANKS_INFO = "515";
//    public static final String POKER_MINI_HOLD_CARDS_MASK = "516";
//    public static final String POKER_MINI_BETTING_TYPE_MONEY = "517";
//    public static final String POKER_MINI_HOLD_CARDS_RANK = "518";
//    public static final String POKER_MINI_USER_WINNING_MONEY = "519";
//    
//    public static final String PIGGYBANK_HISTORY_DATE = "600";
//    public static final String PIGGYBANK_HISTORY_BETTED_MONEY = "601";
//    public static final String PIGGYBANK_HISTORY_WON_MONEY = "602";
//    public static final String PIGGYBANK_HISTORY_USERNAME = "603";
//    
//    public static final String PIGGYBANK_HISTORY_FROM_PAGE = "604";
//    public static final String PIGGYBANK_HISTORY_PAGE_COUNT = "605";
//    
//    public static final String PIGGYBANK_HISTORIES = "606";
//    
//    public static final String BEST_USERS = "607";
//    public static final String BEST_USER_MONEY = "608";
//    public static final String BEST_USER_NAME = "609";
//    public static final String BEST_USERS_COUNT = "610";
//    
//    public static final String USER_HISTORIES = "611";
//    public static final String USER_HISTORY_DATE = "612";
//    public static final String USER_HISTORY_IDS = "614";
//    public static final String USER_HISTORY_WON_MONEY = "615";
//    public static final String USER_HISTORY_WON_TYPE = "616";
//    public static final String USER_HISTORIES_FROM_PAGE = "617";
//    public static final String USER_HISTORIES_PAGE_COUNT = "618";
//    
//    public static final String GAME_HISTORIES_SIZE = "619";
//    public static final String GAME_HISTORIES = "620";
//    public static final String MINI_GAME_ID = "621";
//    public static final String LOCATION_COUNTRY = "622";
//    public static final String IP = "ip";
};

AppKeysConvert = {};
for (var key in AppKeys) {
    AppKeysConvert[AppKeys[key]] = key;
}

CardIndex = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", "13"];
ChipRatio = [1];
ChipValues = [];
Global = {
    autoFit: function () {
        var width = 1280, height = 720;
        _autoFit = function () {
            var windowWidth = window.innerWidth;
            var windowHeight = window.innerHeight;
            var wRatio = windowWidth / width;
            var hRatio = windowHeight / height;
            var zoom = (wRatio > hRatio) ? hRatio : wRatio;
            zoom = zoom > 1 ? 1 : zoom;
            var content = $("#main");
            var gameplayCanvas = $("#gameplayStage");
            var left = (windowWidth - 1000 * zoom) / 2;
            gameplayCanvas.css({"width": width * zoom, "height": height * zoom, left: left + "px"});
            content.css("zoom", zoom);
            return {"zoom": zoom};
        };
        _autoFit();
        window.removeEventListener("resize", _autoFit, true);
        window.addEventListener("resize", _autoFit, true);
    },
    getParameterByName: function (name) {
        name = name.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
        var regex = new RegExp("[\\?&]" + name + "=([^&#]*)"),
                results = regex.exec(location.search);
        return results === null ? "" : decodeURIComponent(results[1].replace(/\+/g, " "));
    },
    numberWithDot: function (x) {
        if (isNaN(x))
            return 0;
        var parts = x.toString().split(".");
        parts[0] = parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ".");
        return parts.join(".");
    },
    _generateUniqueId: function () {
        function s4() {
            return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);
        }
        return (function () {
            return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();
        })();
    },
    getUniqueId: function () {
        var uniqueId = localStorage.getItem("___uniqueId___");
        if (!uniqueId) {
            uniqueId = this._generateUniqueId();
            localStorage.setItem("___uniqueId___", uniqueId);
        }
        return uniqueId;
    },
    converEsObject: function (EsObject) {
        var data = EsObject.data;
        if (!data)
            data = EsObject;
        if (!data)
            return;
        var dataJSON = '{';
        for (var proName in data) {
            if (dataJSON != '{') {
                dataJSON += ',';
            }
            var propertier = data[proName];
            dataJSON = dataJSON + '"' + proName + '":' + JSON.stringify(propertier.value);
        }
        dataJSON += '}';
        return JSON.parse(dataJSON);
    },
    convertData: function (data) {
        var dataConverted = {};
        for (var key in data) {
            dataConverted[AppKeysConvert[key] ? AppKeysConvert[key] : key] = data[key];
        }
        return dataConverted;
    },
    convertBettingToChip: function (betting,unit) {
        if(isNaN(betting) || isNaN(unit)) return [1];
        var multiples = Math.floor(betting/unit);
        var biggestChipIndex = ChipRatio.findIndex(function(item){
            return multiples >= item;
        });
        if(biggestChipIndex < 0) biggestChipIndex = ChipRatio.length;
        var chipArray = [];
        for(var i = ChipRatio.length; i > 0; i--){
            var numberChip = Math.floor(multiples/ChipRatio[i - 1]);
            if(numberChip > 0){
                chipArray.push({
                    type : i - 1,
                    number : numberChip
                });
            }
        }
        return chipArray;
    }
};


